# -*- coding: utf-8 -*-
# @Create Time    : 2019-03-27 12:33
# @Author  : Xingqiang Chen
# @Software: PyCharm

from src.config import first_time, only_evaluation
from src.driving_data_preprocess import apply_preprocess
from src.find_aggressive_driving_event import find_event
from src.parallel_aggressive_driving_detection import apply_detection
import numpy as np


def main():
    if first_time:
        print("!! RUNNING FOR FIRST TIME, DO DATA PREPROCESS>>>>>")
        apply_preprocess()
    else:
        print("!! SKIP DATA PREPROCESS>>>>>> ")
        pass
    if not only_evaluation:
        print("!! RUNNING FOR ABRUPT-CHANGE DETECTION>>>>>>>>")
        apply_detection()
    else:
        print("!! ONLY EVALUATION AND FIND EVENTS STATE>>>>>>>>> ")
        pass

    find_event()


if __name__ == '__main__':
    # main()

    ce47 = [19.515, 19.567, 19.646, 19.85, 19.852, 19.824, 19.75, 19.683, 19.475, 19.639, 19.693, 19.696, 19.714, 19.76,
            19.727, 19.67, 19.398, 19.643, 19.359, 19.359, 19.612, 19.671, 19.63, 19.63, 19.669, 19.339, 19.157, 19.063,
            19.009, 18.894, 19.001, 18.908, 19.129, 19.137, 19.088, 18.994, 18.779, 18.759, 18.675, 18.795, 18.785,
            18.911, 19.012, 19.209, 19.276, 19.279, 18.994, 19.163, 19.168, 19.219, 19.468, 19.445, 19.727, 19.696,
            19.696, 19.67, 19.437, 19.483, 19.357, 19.527]
    ce1 = [47.202, 47.273, 47.25, 47.332, 47.213, 47.372, 47.273, 47.438, 46.691, 46.599, 46.623, 46.653, 46.136,
           46.127, 45.948, 45.935, 45.726, 45.139, 44.978, 44.937, 44.269, 44.079, 43.741, 43.375, 42.847, 42.322,
           42.322, 41.797, 41.406, 40.924, 40.427, 39.857, 39.517, 38.999, 38.493, 37.954, 37.552, 37.084, 36.615,
           36.098, 35.58, 35.141, 34.184, 34.177, 33.739, 33.226, 32.913, 32.4, 31.833, 31.862, 31.554, 30.953, 30.639,
           30.561, 30.368, 30.224, 29.79, 29.261, 29.287, 28.866]
    ts745 = [50.238, 50.168, 50.078, 50.062, 49.988, 49.988, 49.918, 49.836, 49.836, 49.809, 49.809, 49.773, 49.785,
             49.809, 49.828, 49.852, 49.922, 50.008, 50, 50.027, 50.039, 50.039, 50.047, 50.09, 50.074, 50.078, 50.09,
             50.094, 50.086, 50.094, 50.086, 50.168, 50.168, 50.16, 50.238, 50.187, 50.207, 50.223, 50.238, 50.238,
             50.223, 50.219, 50.219, 50.211, 50.16, 50.172, 50.168, 50.152, 50.168, 50.16, 50.086, 50.09, 50.086,
             50.086, 50.078, 50.051, 50.039, 50.039, 50.055, 50.039]

    x = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    y = [[1, 1.8], [2, 2.8], [3, 3.8], [4, 4.8]]
    tep = y[0][1]
    print(tep)
    for i in range(1, len(y)):
        if y[i][1] > tep:
            pos = i
    print(pos)
