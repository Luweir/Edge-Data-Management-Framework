import matplotlib.pyplot as plt
import numpy as np
import math

# times = [1.819426121553377e-05,1.8706784909032725e-05,1.9198707950568694e-05,2.0150736656587498e-05,2.0399337406788465e-05,2.2391295821330037e-05,2.151928708548061e-05,2.1523722457166584e-05,2.2751220735252663e-05,2.3002277435064865e-05,2.394473893438911e-05,2.404392997391196e-05,2.483932774427626e-05,2.527498388053968e-05,2.590663945816618e-05,2.7443917290948326e-05,2.8034444876577515e-05,2.7589478125370004e-05,2.9251752796575214e-05,2.90541771487451e-05,2.9686749125480283e-05,3.225629557023666e-05,3.2353543843649124e-05,3.16566039935207e-05,3.209299324907109e-05,3.2394708491610745e-05,3.4224904135489265e-05,3.4694430382809215e-05,3.549708603411421e-05,3.547351624903907e-05,3.592867335833514e-05,3.657737395938305e-05,3.709074074006189e-05,3.873072858494418e-05,4.830064782085799e-05,5.4860635856351255e-05,5.87046368695221e-05,4.3316792940354534e-05,4.209281363484578e-05,4.238422855140396e-05,4.252352121592224e-05,4.34685486327508e-05,4.438238182392027e-05,4.643317306123844e-05,4.636195052251235e-05,4.594410918492162e-05,4.750821918360568e-05,4.7618553636289994e-05,4.808122521827727e-05,5.035660754914914e-05,4.932448556103246e-05,4.944614670669978e-05,5.068794081088122e-05,5.100549143001878e-05,5.973723538517533e-05,5.3544136896830705e-05]
# times = [1.773789445941433e-05, 1.8602022162929165e-05, 1.8957988232702323e-05, 1.9825744876687502e-05, 1.975958086104127e-05, 2.0931435385248687e-05, 2.0777956862528036e-05, 2.540676207236694e-05, 2.335252517439992e-05, 2.3312716797119127e-05, 2.3480417834006407e-05, 2.381010157734278e-05, 2.528620060562985e-05, 2.6468172175996996e-05, 2.6054949489913913e-05, 2.721764002303462e-05, 2.77594518320468e-05, 3.188852627994381e-05, 2.9212237667009155e-05, 2.970034848825307e-05, 2.9592579953073006e-05, 3.007050041622854e-05, 3.085420493396613e-05, 3.2101754024549934e-05, 3.7868323711753594e-05, 3.313105350341212e-05, 3.365915598175855e-05, 3.576632409224256e-05, 3.442552222836008e-05, 3.635798801276664e-05, 3.6127605276846e-05, 3.722548806500132e-05, 3.7274497089333104e-05, 3.8357167652284476e-05, 3.9958300174959046e-05, 4.0758206628937896e-05, 4.111039713438327e-05, 4.122846599554482e-05, 4.5679159874621965e-05, 4.258235403869914e-05, 4.247425559983995e-05, 4.460206101825133e-05, 4.432541845532505e-05, 4.6707982825947524e-05, 4.792972611763115e-05, 4.796165346257748e-05, 4.945215828485274e-05, 5.732622598621955e-05, 5.07937665799508e-05, 4.9621802087850495e-05, 5.128678930041737e-05, 5.185722941758435e-05, 5.2446730636211925e-05, 5.134001376064923e-05, 5.1943627525550085e-05, 5.3073291034794325e-05]
# times = [1.714117201581045e-05, 1.962651971046187e-05, 1.996928963307013e-05, 2.0051435649171622e-05, 2.1710228003763832e-05, 2.1804470488099814e-05, 2.1532006705108995e-05, 2.264906056261773e-05, 2.2179204411618626e-05, 2.3293252480050896e-05, 2.388575948775489e-05, 2.4295903072832826e-05, 2.521105587871859e-05, 2.5208709897000413e-05, 2.613357653343811e-05, 2.7287323011258157e-05, 2.7583649827038804e-05, 2.8269702855756228e-05, 2.8989296091851012e-05, 2.9539135557055208e-05, 2.949060306025979e-05, 3.0995990204060054e-05, 3.179050823128007e-05, 3.124671700019324e-05, 3.1732555151647546e-05, 3.337426582685401e-05, 3.530017019364244e-05, 3.419579929979779e-05, 3.510823956432194e-05, 3.534983902533257e-05, 3.595389266180593e-05, 3.6634264016049476e-05, 3.7217497064773754e-05, 3.864044494475767e-05, 4.230571147577269e-05, 3.980364866137922e-05, 4.017490026828501e-05, 4.177409002484911e-05, 4.25201488672025e-05, 4.174260255147502e-05, 4.290697925895568e-05, 4.310074268649355e-05, 4.4412109811005606e-05, 4.459601278413405e-05, 4.874847373728457e-05, 4.912668997741623e-05, 4.6698635555039124e-05, 4.750517673856489e-05, 4.7999409105854695e-05, 4.904212466766786e-05, 4.917152022181277e-05, 5.047159730930559e-05, 5.022427951785673e-05, 5.173971039588814e-05, 5.200279025200594e-05, 5.6491129806467555e-05]
# times = [1.84127674190059e-05, 1.95296379966929e-05, 1.9293756866120328e-05, 2.132119825414973e-05, 1.997009606428577e-05, 2.1679253713890666e-05, 2.1083924196931967e-05, 2.3536501459457227e-05, 2.3348236426571335e-05, 2.300825235725341e-05, 2.4391648451707048e-05, 2.4555427300409206e-05, 2.5510461795504425e-05, 3.398279149097769e-05, 2.597566263903146e-05, 2.814518254486966e-05, 2.8739412382897945e-05, 2.8347266876314326e-05, 2.8999486449939572e-05, 3.0023250878185336e-05, 3.1349683604043666e-05, 3.0241573801835653e-05, 3.21811874992898e-05, 3.2721276477977665e-05, 3.294267850263317e-05, 3.438776658508278e-05, 3.814731225639818e-05, 3.455128884203438e-05, 3.505857073263172e-05, 3.701233363232381e-05, 3.68705117062655e-05, 3.776902270433773e-05, 3.929046516052193e-05, 3.9878536796539876e-05, 4.0405759531742015e-05, 4.1386856417488006e-05, 4.114115148847048e-05, 4.1627172919746515e-05, 4.232539572862706e-05, 4.338160068531991e-05, 4.367088955594589e-05, 4.5743820995729936e-05, 4.6249783271610844e-05, 4.577296248738581e-05, 4.775788295677259e-05, 4.717160746300788e-05, 4.7914440580498587e-05, 4.941286309107298e-05, 4.921404114045487e-05, 5.266157124324948e-05, 5.179517086994494e-05, 5.10562965966038e-05, 5.214314593949041e-05, 5.2241127332190016e-05, 5.271677512555577e-05, 5.460910262900249e-05]
# times = [1.8565072950867446e-05, 1.942337235605111e-05, 2.2677175687271832e-05, 2.096625855137828e-05, 2.241303280818777e-05, 3.247069630570194e-05, 2.8814007270343956e-05, 3.6899323294242194e-05, 4.009172788518178e-05, 3.556460632044134e-05, 2.979026556879609e-05, 3.206146911973269e-05, 3.2581800533637527e-05, 3.247047636991587e-05, 3.3891554795718106e-05, 3.129290351527034e-05, 3.419246360704218e-05, 3.498954755176644e-05, 3.5509439094099095e-05, 3.9063051557713545e-05, 3.760370430513307e-05, 3.3314919820576436e-05, 3.0845334190594184e-05, 3.272351249180287e-05, 3.3673085248210374e-05, 3.363096754517576e-05, 4.32943594901742e-05, 3.664452768606648e-05, 3.702992849521021e-05, 3.7459059869819987e-05, 3.749446953137916e-05, 3.949383245071871e-05, 3.8182868541814764e-05, 4.257414310268555e-05, 4.250244403642274e-05, 4.1892782037404606e-05, 4.357217504395976e-05, 4.20162759812893e-05, 4.223302269847284e-05, 4.434015415299246e-05, 4.4412989554149716e-05, 4.438864999382357e-05, 4.4665365868678466e-05, 6.794523892174293e-05, 4.6559819418057204e-05, 5.294195271453894e-05, 4.82442342917281e-05, 4.9258798072922616e-05, 4.8596314829280376e-05, 4.997003374914648e-05, 5.049403075948575e-05, 5.206012018024495e-05, 5.148451157210445e-05, 5.137578998185184e-05, 5.252601748709438e-05, 5.711468441597347e-05]
times = [1.9759837452791702e-05, 2.0304581738951614e-05, 2.216234266801902e-05, 1.9740006576080003e-05,
         2.11975576864075e-05, 2.1612026675278373e-05, 2.2589347996696563e-05, 2.3651491219613564e-05,
         2.3077495473904787e-05, 2.3751965217888536e-05, 2.3531919463913863e-05, 2.524862824217422e-05,
         2.460319002195326e-05, 2.5971447203131605e-05, 2.7114086923754498e-05, 2.664895939215617e-05,
         2.8464199402581114e-05, 2.888695263939436e-05, 2.8837870303133785e-05, 2.9592433329215596e-05,
         3.0918646119288075e-05, 3.1383773650886404e-05, 3.158050621153645e-05, 3.243092458438559e-05,
         3.331638605915028e-05, 3.421108483693036e-05, 3.410947450376076e-05, 3.484919186428197e-05,
         3.653609934352833e-05, 3.8090898727268295e-05, 3.675698818468298e-05, 3.813037720086978e-05,
         3.774153073107751e-05, 4.17594642950748e-05, 4.0422657931305926e-05, 4.01717845113156e-05,
         4.072107413705446e-05, 4.162753947938995e-05, 4.172291829862065e-05, 4.2551770318126084e-05,
         4.4055754418235116e-05, 4.332669005072809e-05, 4.533734300708669e-05, 4.556750580722113e-05,
         4.662371076391398e-05, 4.763405910920877e-05, 4.891299706862247e-05, 4.842810060889224e-05,
         4.967044455253902e-05, 5.048582862090348e-05, 4.9992357231433716e-05, 5.153469358729552e-05,
         5.182031686148712e-05, 5.19104172218519e-05, 5.256553005074285e-05, 5.268728980095463e-05]
# plt.rcParams['font.sans-serif'] = ['SimHei']
# plt.rcParams['axes.unicode_minus'] = False

x1 = np.arange(4, 4 + len(times))
x = [(60 - i) / 60 for i in x1]
avg = np.average(times)
print(avg)
y = []
for i in range(len(x)):
    y.append(avg)
pl = plt.figure(figsize=(10, 6))  # 画布 长宽8:6,分辨率=80

ax = plt.gca()  # 获取当前图像的坐标轴信息
ax.yaxis.get_major_formatter().set_powerlimits((0, 1))
plt.xlim([0, 1])  # x轴边界
plt.xlabel(u'Compression Ratio (CR)', size=20)  # 设置x轴名称
plt.ylabel(u'Data Recovery Time (s)', size=20)  # 设置y轴名称
# plt.xlim((0, 1))  # 设置x轴范围
# plt.ylim((0, 1))  # 设置y轴范围
plt.xticks([0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1], size=15)  # 设置x轴刻度
plt.yticks(size=15)  # 设置y轴刻度
plt.plot(x, np.array(times), label=u'数据恢复时间', lw=2)
# plt.plot(x, y, label=u'均值', lw=4, linestyle='--')
# plt.legend(loc="upper right", prop={'size': 22})  # 添加注解
plt.savefig("insurance recovery time.eps", bbox_inches='tight')
plt.show()
